/**!
 * bricklr - yep, it creates bricks
 * @author Andreas Larsson, http://chromawoods.com
 */
(function(b,a){b.bricklr=function(j){var l=new Date().getTime(),n={init:"initializing",idle:"idle",flip:"flipping"},i=n.init,u=true,t="bricklr-brick",d="bricklr-target",e={rand:"random",lrtd:"leftRightTopDown"},p={fade:"fade",slide:"slide",none:"none"},h={target:"body",brickW:100,brickH:100,opacity:1,behavior:e.rand,delay:200,effect:p.fade,effectDuration:400,brickBg:"random",repeat:false,debugElem:"#bricklr-debug",onBricksCreated:false},k=(function(x){var w;for(var s in j){if(x.hasOwnProperty(s)&&j.hasOwnProperty(s)){x[s]=j[s]}}x.selector=x.target;w=a(x.target).css("position","relative");x.target=a("<div/>",{"class":d,css:{width:w.outerWidth(),height:w.outerHeight(),position:"absolute",top:0,left:0,background:"transparent",overflow:"hidden","z-index":9999999}}).appendTo(w);x.debugElem=a(x.debugElem);x.fillWindow=x.target[0].nodeName.toLowerCase()==="body";return x})(h),v=(function(w,s){if(s&&!w){return{x:k.target.offset().left,y:k.target.offset().top}}else{return{x:0,y:0}}}(k.fillWindow,k.target.css("position")==="static"));var q=function(w,s){if(u){s=s||"log";w="[Bricklr][target:"+k.selector+"] "+w;console[s](w);if(k.debugElem.length){w+="\n"+k.debugElem.text().substring(0,3096);k.debugElem.text(w)}}};var o={lightness:"00",solid:null,getRandomSection:function(){var s=Math.floor(Math.random()*255).toString(16);if(s.length<2){return"0"+s}else{return s}}};o.variants={redish:function(){return"#"+o.getRandomSection()+o.lightness+o.lightness},greenish:function(){return"#"+o.lightness+o.getRandomSection()+o.lightness},blueish:function(){return"#"+o.lightness+o.lightness+o.getRandomSection()},yellowish:function(){var s=o.getRandomSection();return"#"+s+s+o.lightness},purplish:function(){var s=o.getRandomSection();return"#"+s+o.lightness+s},greyscalish:function(){var s=o.getRandomSection();return"#"+s+s+s},random:function(){return(function(s){return"#000000".substr(0,7-s.length)+s})((~~(Math.random()*(1<<24))).toString(16))}};o.get=function(s){if(o.variants[s]){k.target.bgSolid=false;return o.variants[s]}else{k.target.bgSolid=true;return s}};var f=function(s){i=s;q("Status: "+i+".")};var m=function(){var D=[],z=0,s=0,w=k.fillWindow?b.innerWidth:k.target.width(),E=k.fillWindow?b.innerHeight:k.target.height(),C=Math.ceil(w/k.brickW),B=Math.ceil(E/k.brickH),A=C*B,y=o.get(k.brickBg);for(var x=0;x<A;x++){if(x&&x%C===0){z=0;s++}else{if(x){z++}}D.push({x:z,y:s,elem:a("<div/>",{"class":t,id:t+x,css:{display:"none",margin:0,padding:0,border:"none",position:"absolute",left:v.x+(z*k.brickW)+"px",top:v.y+(s*k.brickH)+"px",width:k.brickW+"px",height:k.brickH+"px",opacity:k.opacity,background:k.target.bgSolid?y:o.get(k.brickBg)}})})}q("getBricks created "+D.length+" bricks.");!!(typeof k.onBricksCreated==="function")&&k.onBricksCreated(D);return D};var c=function(){var A,s,x=0,z=x,y=(k.behavior===e.rand);if(!k.target.data("bricks")){k.target.data("bricks",m())}A=k.target.data("bricks").slice(0);s=A.length;var w=function(){z=y?Math.floor(Math.random()*A.length):x;(function B(C,D){switch(k.effect){case p.fade:C.fadeIn(k.effectDuration,function(){D(a(this).data("index"))});break;case p.slide:C.slideDown(k.effectDuration,function(){D(a(this).data("index"))});break;default:C.show();D(C.data("index"))}}(A[z].elem.data("index",x).appendTo(k.target),function(C){if(C===s-1){k.target.trigger("lastFlipComplete")}}));A.splice(z,y?1:0);x++;q("Handled brick "+x+" of "+s+".");if(x<s){setTimeout(function(){w()},k.delay)}else{q("All "+x+" bricks handled.");f(n.idle)}};if(i===n.idle){q("Will begin drawing bricks now.");f(n.flip);w()}else{q("Will not draw bricks because status is: "+i+".")}};var r=function(){k.target.on("lastFlipComplete",function(){var s=k.target.children("."+t);if(k.repeat){q("lastFlipComplete - will repeat.");s.fadeOut(k.effectDuration).promise().done(function(){var y,w;s.remove();if(!k.target.bgSolid){q("Will generate new brick colors.");y=k.target.data("bricks");w=y.length;for(var x=0;x<w;x++){y[x].elem.css("background",o.get(k.brickBg))}}c()})}})};var g=new Date().getTime();q("Loaded in "+(g-l)+"ms.");f(n.idle);if(k.target.length>1){k.target.each(function(w){var x="bricklr-target-"+w,s=k;a(this).addClass(x);s.target="."+x;bricklr(s)})}else{r();c()}}}(this,jQuery));
            